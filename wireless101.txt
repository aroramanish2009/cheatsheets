Wireless Basics:
===============
1. Wireless uses Radio frequency signals to communicate bits and bytes. It uses extremely low end of the frequency that normal human can view (human can view 400TeraHz (Red) to 800 TeraHz (Violet))

2. It used the wave nature of Light if you consider the wave-particle duality of Light.

3. Anatomy of RF wave:
  a. RF wave is a sine wave, sinusoidal wave, or sinusoid (S rotated at 90 degree with a origin line in the center)
  b. Origin : Line the runs in the center of sine wave
  c. Crest: Top point of the wave from origin line
  d. Trough: Bottom point of the wave from origin line. 
  e. Amplitude: Distance measured from Crest point and Trough point (perpendicular).
  f. Cycle: 1 cycle of wave is completed if it completes both Crest and Trough within a sine wave.
  g. Period: Time it takes for wave to complete a cycle on the sine graph.
  h. Phase: If you have 2 waves, the distance between 2 wave at same point within the cycle is called phase and measured in degrees. 2 waves that run completely opposite of each other from the origin are called 180 degree phase. 
  i. Frequency (Hertz): Number of cycles a wave completes with 1 second of time. Ex: 5Hz frequency means that wave was able to complete 5 cycles within 1 sec.
  j. Wavelength: Physical distance for a wave to complete a cycle, much like Period but length instead of time measurement for 1 full cycle of wave. Formula: Wavelength = c/f (speed of light divided by frequency) meters 
  k. Frequency is inversly proportional to wavelength, More Frequency less wavelength. 
  
4. Electromagnetic Spectrum:
  a. Human eye can see Frequencies of light from Red color in ROYGBIV colors to Violet Color.
  b. Anything below Red Frequency is called Infra Red and above Violet is called Ultra Violet. After Ultra violet is X-Rays, after x-rays is Gamma Rays. 
  c. Below Infra Red is Microwave, this is where WIFI lives. After Microwaves, its RadioWaves which are normally used for TV, Radio signals. 
  
5. Wireless Measurements: 
  a. Units used are decibel (dBm) scale. This unit is converted into milliWatts at times as wireless equipment sends this microwaves at milliWatt levels. 
  b. As you move away from wireless transmission points, you will see that the signal strength degrades exponentially for power Watts unit. Decibles units created for wirless signals to measure single strength using a more linear method. 
  c. Decibel: They are a logarithm function which is basically a number that increases linearly whereas the log function value is increasing exponentially. Ex: Log2 of 8 == 3 (2*2*2) and log2 of 16 == 4 (2*2*2*2) .. log 2 of 32 == 5. In this example, the results increased linearly (3,4,5) where as value increased exponentially from 8 to 16 to 32.
  d. Decibel Maths: Decibel is relative to milliWatt thats why units is dBm where m signifies relation to milliWatt. 0dBm == 1mW is starting reference.
    - Simple trick = +- 10dBm change does a 10x change on milliWatt. Ex: 20dBm == 1* 10*10 ==100mW 
    - +- 3dBm change does a 2x change on milliwatt. Ex: 6dBm = 1 * 2 * 2 == 4mW
    -  Ex: 200mW to dBm --> 10 + 10 + 3 (10 * 10 * 2 = 200mW) = ~23dBm
    -  Ex: -53dBm to mW --> Move decimal value 5 spaces to left then divide by 2 = .000005mW 
  e. What is good signal in dBm, anything better than -72dBm is good for web browsing etc, anything better than -67dBm is good for voice. If you need a ton of transfer rate, you will need -50's dBm. -90dBm or below is not good enough for data transfer. 

6. RF Propagation: 
  - Similar to light bulb, signals are sent out isotropic manner (360 Degree) for non directional AP.
  - Free Space Path Loss (FSPL): Signals get weekend fairly quickly as they move away from Transmitters, this is called beam divergence.
  - Received Signal Strength Indicator (RSSI): How much dBm is being received by the receiver at certain distance from the transmitters. Higher RSSI helps with better data rates and quality of WIFI signals.

7. RF Interference & Noise Floor/SNR: 
  - Non-WIFI (Bluetooth,microwave oven etc) devices result in Interference into WIFI Signals and makes them unuseful
  - The non-wifi devices will only matter when they are using same frequency and channels within same frequency. 
  - Noise Floor: The background RF in a space like natural sources, non-wifi devices. The noise is normally around -90 to -100dBM strength.  
  - Signal to Noise Ratio (SNR): Signal (RSSI) divided by Noise dBm. It is calculated as RSSI subtract Noise Signal. Ex: My RSSI is -67dBm and we have a noise signal at -92 dBm than our SNR == -67 -(-92) == 25dBm. This 25dbm or higher value is a recommended SNR to operate video/voice on a wireless network.

8. Radio Frequency Properties: 
  - We divide our RF into different channels and bands to avoid interference. Interference causes Collisions, Collision Avoidance etc. 
  - A Band (ex 2.4Ghz) represent a large range of frequencies (2401MHz TO 2473MHz in case of 2.4GHz band in USA).  
  - Band and available frequencies:
    - 2.4 GHz - 2401MHz to 2473MHz giving us 72MHz width to use. 
    - 5GHz - 5150MHz to 5895MHz gives us 745MHz but some of the frequencies are not allowed for WIFI
    - 6GHz - 5945MHz to 7125MHz gives us 1180MHz width and all are allowed for WIFI 
  - Band/Spectrum (2.4GHz/5Ghz/6Ghz) is divided into multiple non overlapping channels. In USA, 2.4GHz you have 3 non-overlapping channels, 5GHz has 25 non-overlapping channel and 6GHz has 59 non-overlapping channels. The more channels we have, the better the bandwidth.
  - 2.4GHz band has non-overlapping channels at 22MHz where as 5/6GHz has non-overlapping channels at 20MHz. All three bands have channel separation at 5MHz
  - Antenna Gain on RF: We use dBi (deci-Bell Isotropic) Unit for measuring the signal gain.  Ex: A 3dBi Antenna will improve 3 dBm to a radio signal, so if the radio is transmitting at 30dBm and we had a 3dBi Antenna then the total signal strength is 33dBm by DIRECTING the wave pattern into a narrower path instead of propagating in spherical format. NOTE: Antenna's are passive devices and they only change the wave pattern by narrowing the wave path and does not in any way inject more power into Signal.
  - Sometimes Antenna's are called dipole antenna and represented with a dBd unit. A 1dBd dipole antenna is normally 2.2dBi signal gain. Simple Math: X dbd = X + 2.2 dbi
  - Intentional Radiator (IR): It is the actual power being transmitted by the radio before being sent to Antenna. IR = power generated by radio + loss that occurs sending that power to Antenna. 
  - Equivalent Isotropically Radiated Power (EIRP): IR (power + loss) + Antenna (Gain). This is total possible power after IR + Antenna gain. 
  - Regional Power Limits: There are regulation by govt on IR and EIRPs that can be emitted by WAPs. The vendor normally takes care of these limits in their equipments.
  - Link Budget: End to End Tx to Rx for a signal from sending radio to receiving radio. Everything from transmitting radio to receiving radio adds in to either losses or gain. 
  
9: Describe RF Electrical Properties:
  - Electricity Concepts: 
    - Voltage: energy per charge
    - Current: flow of electrons inside the conductor. 
    - Resistance (impedance): friction that electrons present when they are forced to move from when charge is induced. 
  - Ohm's Law: voltage == Current (I) * Resistance 
  - Electricity flows from positive to Negative whereas electrons flow from Negative to Positive.
  - Alternate Current (AC) vs Direct Current (DC): In DC, electrons are continuously flowing in a single direction which means that there is a constant voltage in the circuit. In case of AC, electrons move back and forth such that voltage in the circuit moves in sin wave format where voltage moves between positive/negative. AC power can be sent on longer distances and can make use of tranformer in the path.
  - AC power is applied to open-circuit antenna element (dipole) to create wireless radiation. Basically the +- movement on the open circuit within antenna generates wireless radiation. 
  - Voltage Standing Waves: When the AC wave hits impedance aka resistance, it generates reflective Voltage which can end up creating a increasing/decreasing pulsating wave pattern which higher/lower of the input voltage.
  - Voltage Standing Wave Ratio (VSWR): Voltage(max) divided by Voltage(min) on the line. EX: if our max standing voltage is 6v and min is 4v then VSWR is 6/4 v == 1.5:1
  - Best case VSWR is 1.1:1 but 2:1 is considered good ratio. 
  - Return Power (dBm): Power-In subtracted by Power-Reflected. Higher Return Power number is better as it is basically least power returned. 
  - For wireless Engineers: Match the impedance and properly install equipment. 2:1 or better VSWR and higher return power dBm should be our aim.
10: RF Attenuation (RF Loss due to reflection, refraction, absorption etc as it travels from Sender to Receiver):
  - Reflection: Signals are reflected from different materials with some absorption of the signal during reflection. This is sometimes helpful with boosting the signal with MIMO at Rx.
  - Refraction: Signal is passed from one medium to another example air to transparent glass, the light will be absorbed and bend.
  - Scattering: Signal is scattered when hitting microscopic/small particles in free air space. Ex: Wave hitting dust in a factory floor or fog in open stadium.
  - Diffraction: Smaller frequency signals are able to pass the signal around larger objects compared to higher frequency signals. This is called diffraction and it is helpful in some scenarios to better signal reachability of smaller frequency signals. This allows for smaller frequency to greater distance ex: 2.4Ghz can reach further then 5Ghz signals.
  - Absorption: Signals are aborbed by different mediums and converted into something else mostly heat, the most common thing in offices spaces that absorb signals is water .. water can be present in books, plants, humans etc that can change the strength of wave signal.
  - Common Attenuation Values:
    - DRYWALL - 3 dBm loss for 2.4Ghz, higher for 5/6 Ghz
    - Glass (Transparent) - 1dBm attenuation
    - Cinder Block (hollow) - 4 dBm
    - Metal door - 6 dBm
    - brick wall - 8 dBm
    - concrete wall - 12 dBm
    - Elevator shaft - 30 dBm
  - Receiver sensitivity: Minimum signal strength a receiver can get and able to differentiate it from noise in that frequency.
  - Fade Margin: It sets a buffer above the receiver sensitivity to handle fluctuations in the future. Ex: we have receiver with Rx Sensitivity of -80 dBm and then we are receiving a signal at -77dBm strength. Fade buffer is accounting during planning for -5dBm of expected change in signal strength.
11: RF Signal Characteristics
  - Multipathing: When signal is reflected and it finds its way back to receiver. Bigger concern in outdoor spaces due to distance. Indoor MIMO is used make good use of multipathing.
  - Signal Beamwidth:  Signals are propagated in a cone or lobe fashion in the space, the wider the spread of the signal, the wider the beamwidth. Rule of thumb, the angle for the beamwidth is 3dBm loss from the strongest point of singal streangth.
  - Polarization and Orientation: RF signals consists of 2D-Like waveforms in 3D space, so the polarization (vertical or horizontal) is a critical part of how the signal propagates.
  - Fresnel Zones:
    - The 3D signal area created between sender and receivers.
    - 60% of Fresnel zone should be clear of obstruction for better SNR
    - Mostly impacts outdoor wireless communications
    - Calculating Fresnel zone radius, normally max in the center of the sender/receiver.
      - R =  72.2 times SQROOT of ( distance (D) between sender/receiver divided by 4 times Frequency )
    -  Earth curvature plays into this at 7 mile distance as after that the bulge of the earth starts to become obstruction.
12: Antenna Functionality:
  - Antenna - Passive metallic device that helps in sending and receiving signals
  - Antenna shapes the isotropic signal (perfect ) into more of a cone shape
  - By compressing the signal by using an antenna, if you see increase of 4dBm of signal power then the Antenna's rating will be 4dBi
  - DART (Digital Analog Radio Transmitter) connects antennas to radio and inform about dBi
  - Antenna can be single band or dual band, single band perform better.
  - Types of Antenna
    - OMNI Directional
      - DIPOLE ~ Sphere
      - OMNI ~ Donut shape with dead space underneath the Antenna. Increase the gain will result in larger dead space under the origin.
    -  PLANER - Semi directional in nature. Typically used in Hallways and outdoors with a Ballon shape gain larger in one direction and smaller in other.
      - Patch
      - Panel
    - YAGI - Semi directional a bit more than PLANER, similar to TV antenna
    - SECTOR - Semi directional, wide angles (~120 degree). Typically deployed in array in 3x 120 = 360 coverage. Similar to what you see on cell towers.
    - DISH - Directional, not intended to service clients. Typically used for P2P with highly narrow parabola signal.
    - GRID - Like DISH, uses parabola concept but material is wire mesh to allow wind to pass through it.
  - Antenna Patterns and Charts
    - Signal Propagation is 3D
    - Azimuth crosssection = Looking propagation from above (Horizontal).
    - Elevation = Looking propagation from side (Vertical).
13: Diversity and Multiplexing Techniques
  - MIMO - Multiple In and Multiple Out allows us to send and receive multiple signals. It allows us to improve throughput by combining signal togather or sending multiple streams etc.
  - Spatial Diversity (AKA Antenna Diversity)
    - Sampling a signal from 2 locations and picking the best signal between them.
    - WIFI4 (802.11n) introduced MIMO with 2x4 or 4x4 (tx/rx)
    - SISO
      - Switched Diversity: Radio has 2 antennas, it receives 2 signals due to reflection or spatial diversity. Radio gets pick the signal it wants to use (normally one with better dBm) and thats called switched diversity.
      - Transmit Diversity: This is better for receiver side, for transmission side, the radio remembers which antenna received better signal and uses it to transmit the signal and hopes it works out.
  - MIMO - MIMO format Tx:Rx:Streams, ex 4x4x4 = 4 Tx, 4 Rx and 4 streams
    - WIFI6 allows for 8x8 RxRx MIMO
    - WAP advertises Num of Tx and Num of Rx
    - MRC (maximal Ratio Combining): Compared to Switch Diversity, MRC allows to combines multiple signals to improve the SNR.
    - Transmit Beamforming (TxBF)
      - Improves reliability, multipathing and interference
      - By changing/adjusting RF's phase and amplitude, you can focus Tx Beam towards to the client.
      - This can be done per client.
    - Multiple Spatial Streams (spatial multiplexing)
      - Unique signals sent from multiple radios to client, in this case throughput improves with minor hit to SNR.
      - Streams != antennas
      - If we extra radio vs streams format, then extra radio is used for TxBF that improves SNR for a given stream.
      - Streams are sometimes dynamic if the WAP detects bad SNR for a connection. In case of bad SNR (reliability), throughput (streams) are reduced.
    - MU-MIMO (multi user MIMO)
      - Introduced with WIFI-5
      - Radio-Chain: Physcial Components that allows TxRx from an antenna
      - Radio chain can perform 1 function at a time, either stream or TxBF/MRC
      - Allows free up Radio-Chains to sent streams to multiple clients when they already have good SNR
      - 4x4:4:3:2 = tx = 4, rx =4, single user MIMO = 4, MU-MIMO = 3, Num of clients to MU-MIMO = 2
14: WLAN Industry Orgs
  - Standards vs Regulations
  - Standards
    - Creating interoperability Ecosystems
    - ALlow for multiple different manufacturers work togather. Ex WIFI card connecting to different APs.
  - Regulations
    - Rules that needs to followed to be good neighbor (aka allow other equipment to work)
    - Compliance
    - power levels
    - Spectrum use
  - IEEE
    - IEEE is standards society on technical standards
    - Prof/Students from 160+ countries with over 400k members
    - Creates working groups, they created 802.11 working groups that deals with Wireless Ethernet.
    - Task Groups are created under working groups to make enhancements. Ex: 802.11 (working group) created 802.11a Task Group to improve wireless speed from 1,2Mbps to 54Mbps
  - WI-FI Alliance
    - Global organization focus on interoperability on the IEEE Standards
    - Devices using WI-FI logo needs to go though interoperability testing to be complaint and use that logo
    - They created WIFI Generations that matches IEEE task groups.
    - 802.11n = wifi4, 802.11ac = wifi5, 802.11ax = wifi6 and 802.11be = wifi 7
    - WIFI Alliance manages WPA to WPA3 for wireless security
  - IETF
    - Focused on methodologies of protocols or frames format
    - Uses RFCs format to publish their methodologies
    - RFCs are split into 3 categories
      - Info : Experimental
      - Standards : Split further into 3 categories
        - Proposed : Proposal
        - Draft: Proposal moved to draft
        - Internet: Draft is adopted and RFC number is assigned
      - Historical
    - Mostly focused on Internet standards, wifi has indirect relation with IETF RFCs. Ex: Using EAP, CHAP etc protocols
  - Regulatory Domains and Agencies
    - US : FCC started in 1934, it controls spectrum licensed and unlicensed RF ranges as well as power limits for IR and EIRP
    - ITU-R (UN): Global agency that works with regional and country local agencies
15: WI-FI Standards
  - 802.11 (Legacy)
    - 1997 release with 1/2 mbps option
    - 2.4 GHz only
  - 802.11a/b/g (Legacy)
    - 1999 is when 802.11a released
    - 5Ghz with upto 54Mbps but was expensive at the time of release due to OFDM
    - 802.11b gave 1,2,5,11 Mbps speed at 2.4GHz and was backward compatible to 802.11 spec
    - 802.11g released in 2003, supports 2.4GHz at 54Mbps
  - 802.11n (WIFI 4)
    - Introduced MIMO, Spatial Streams and channel bonding
    - Released in 2009, supports upto 600Mbps. Supports both 2.4 and 5 GHz bands.
    - The 600 Mbps is achieved by using multiple enhancements such as channel bonding, lower guard interval (default is 800 nano seconds before data is retransmitted), spatial streams etc
    - Maximum channel bonding supported by 802.11n is 40MHz
  - 802.11ac (WIFI 5)
    - Does not support 2.4GHz, supports upto 7Gbps in perfect conditions with 8x8:8 on 160MHz channel bond with 256 QAM
    - Supports upto 80/160 MHz channel bonding
    - Supports upto 8 Spatial streams
    - Supports 256-QAM with MU-MIMO
  - 802.11ax (WI-FI6 and 6E)
    - Uses 6GHz spectrum with OFDMA
    - Used MU-MIMO in Tx and Rx, previous versions only supported MU-MIMO in Rx from WAPs
    - Uses 1024-QAM with 800ns Guard Interval
    - you can get upto 7x 160MHz channels in US
    - OFDMA: Allows for sub-channels to be created within an avaiable channel allowing for consistent performance for multiple users in a high density setting.
    - 6e allows for 2.4GHz for backward compatibility
16: FHSS/DSSS and OFDM Technologies
  - FHSS/DSSS
    - Frequency hopping spread spectrum and Direct sequence spread spectrum
    - used during 802.11 and 802.11b respectively
    - Spreading out over multiple frequency within a channel
    - In FHSS, client and WAP hop over frequencies for a time period, this time period is known as Dwell Time.
    - Bluetooth still uses FHSS and causes issues with 2.4GHz channels
    - Hop Time: Time wasted between hopping between Frequencies
    - In DSSS: Data is sent over multiple frequencies at the same time with a channel. Some information is lost to interference on the frequency but data encoding still allows client to understand data received.
  - DSSS Data Encoding
    - Done using method called "Processing Gain"
    - In Processing Gain, data is multiplied to increase reliability. It does reduce the data rate.
    - In 802.11, Barker Coding was used which multiplied data with 11 that lead great reduction in data rate (1/2Mbps).
    - CCK was used in 802.11b which was slightly better hence the 5.5/11Mbps data rates.
  - OFDM (Orthogonal Frequency Division Multiplexing)
    - Used in WIFI4/5/6
    - Goal is same, avoid interference by using range of frequencies
    - Uses subcarriers with a channel to split into non overlapping frequencies
    - Current 802.11a/g/ac/ax has total of 64 subcarriers where certain num of them are used for data and others for pilot (used between wap/client understand encoding). Some implementations keep unused frequencies to create buffer zones.
  - OFDMA and resource units
    - Orthogonal Frequency Division Multiple Access
    - Used in 802.11ax
    - Allows for supporting high density setups by dividing the channel into multiple Resource Units which can be further divided into subcarriers.
    - OFDMA allows for 4x 64 subcarriers (total 256). Subcarriers are also known as tones.
17: Wireless Modulation and Data Encoding
  - Data encoding is representing information (bits) with a signal RF Waveform
  - Modulation: Waveform variations such as Phase or Amplitude can be used to transfer more data over a single frequency
  - Phase,Amplitude and frequency keying
    - Used in modulation
    - Carrier Signal: Unmodified waveform
    - Phase: Shifting phase relative to time, Used to send different symbols by changing phase of the waveform
    - Amplitude: More or less done by changing the waveform power. Variation in power is used for sending different symbols
    - Frequency: WIFI doesnt use frequency change modulation but physics allows it. Mostly used in Radio communication
  - Data Encoding with Symbols
    - Num of symbols needed to transfer bits == 2 to the power of num of bits
    - Ex: To represent 4 bits, you will need 2 to the power 4 symbols or 16 symbols
    - A waveform can be modulated to represent varying num of bits
    - Higher SNR is needed to use higher num of modulation
    - Higher modulation == Higher datarate
    - Currently we can represent 10 bits of data which means 2 to power of 10 or 1024 symbols
  - Interpreting Modulation
    - Higher Data rate is equal to higher error rate
    - Noise or Interference will cause enough change in signal that cannot be corrected by OFDM technology and causes a CRC that would need retransmission
    - High Modulation (aka higher data rate) requires higher SNR
18: Wireless Modulation Techniques
  - BPSK: Binary phase shift keying
    - Amplitude is not changed and set to max
    - Only binary 0 and 1 is used as symbols with modulation in phase only
    - Phase used in BPSK is either carrier phase (0 degree) and 180 degree variant of the carrier phase
  - QPSK: Quadrature Phase Shift Key
    - 4 symbols are used
    - Only phase is used and amplitude is not modified
    - Uses 90 degree gap but used 45, 135,225 and 315 degree values
  - Constellation Diagram
    - Constellation Diagram are used to visualize the phase and amplitude modulation values used for each symbol
    - Use a Q (quadrature) for Y-AXIS and I (inphase) axis for X-AXIS lines
    - Phase of the signal is represented by Angle from the I axis
    - Amplitude of the signal is represented by distance from Origin. Max amplitude is represented by a 1 from the origin point
  - 16-QAM,64-,256-,1024-QAM
    - As we use higher QAMs and symbol rates, bad SNR would result into retransmits that would result in bad throughput
    - Current 10-bits symbols uses 1024-QAM, this makes SNR to be extremely good in order to provide error free data-rate
    - 64-QAM were used with 802.11a/n/ac
    - 802.11ac uses 256-QAM
    - 802.1ax allows us to use 1024-QAM
    - Calculating num of waveforms to transmit x amount of data
      - 256-QAM = 2 to power of 8 symbols
      - 1500byte ~= 12000 bit
      - 12000 / 8 = 1500 waveforms
  - Convolution coding
    - Sending error correction in wireless transmissions to avoid mass retransmissions is called convolution coding
    - FEC (forward error correction) is aka convolution coding
    - See 802.11 wiki page, coding rate column
    - 256-QAM uses 3/4 or 5/6 coding rate which means for every 3 bits of data, 4 bits are sent as FEC bits.
19: Wireless Bands
  - Why license the bands: To avoid interference between different industries or functions. In USA, ITU/FCC regulate the frequencies
  - Licensed Bands: Any organization can license a frequency for a cost.
  - Unlicensed Bands (later known as ISM Bands): Anyone can use, WI-FI uses these bands. Industrial, Scientific and Medical (ISM) bands were open for use by anyone.
  - 2.4GHz Band:
    - Was original 802.11 band
    - 2401 MHz to 2495MHz, In US mac is 2473MHz. It provides 3x non-overlapping 22 MHz channels
    - A lot of interference from Microwave, cordless phones, walkie-Talkie, TV remotes, Bluetooth etc
    - 2.4GHz is here to stay given support on 802.11ax
  - 5GHz Band:
    - 5150 - 5990MHz available
    - upto 25 non-overlapping 20MHz channels
    - Allows for a higher channel bonding, can get upto 80MHz bond using 6x channels
    - Unlicensed National Information Infrastructure (UNII):  UNII 4 channels are not allowed for use and UNII 2B is also not permitted for use in WIFI network
    - Dynamic Frequency System (DFS): If a radar system is detected, WAPs must defer to Radar and stop using the channels allocated to DFS.
  - 6GHz Band:
    - WIFI-6E allows for 802.11ax + 6GHz band
    - Twice the size of 5GHz and allows for 5945-7125 MHz
    - All frequencies are available for WIFI, which gives us 59x 20MHz channels and max of 7x 160MHz channel bonds
    - Currently EU allows for UNII-5 frequencies for use which limits the num of channels
  - 1GHz and 60GHz Bands:
    - 1GHz - allowed in 802.11ah, Lower frequency allows for better propagation and has a use case for IOT, M2M communication etc
    - 1GHz also has a use case in RFIDs, Medical sector etc
    - 60GHz - Allowed in 802.11ad, allows extremely high throughput with very low range. Used for HD streaming with a room, not much APs with support for 60GHz currently.
20: Fourier Transforms
  - FT is a math operation capable of separating the different frequencies that may have been combined to create a waveform
  - 3 types : Forward Fourier Transform, Inverse Fourier Transform and Fast Fourier Transform
  - WIFI devices always use Fast Fourier Transform and Inverse Fast Fourier Transform
  - FT converts time domain waveform into frequency domain. Inverse FT is then used to decode this frequency domain waveform
  - OFDM Transmissions:
    - Uses 64 Subcarriers, 52 for data, 4 for pilot and 8 unused.
    - QFDM Uses Inverse FFT to build a combined waveform, this one is transmitted and then the receiver uses FFT to split the signal, filters frequencies to only ones that it needs, performs IFFT to get data.
  - Symbol Duration: Time for which a waveform signal is sent for to complete a single wavelength or symbol. Calculation is done by dividing 1 by frequency of the waveform.
  - Ex of Symbol Duration: To send a single waveform of 312.5KHz, you need to send it for 1 divided by that freqency which in this example comes out to 1/312500 == 3.2 micro sec
  - Guard Interval: Amount of time we wait between sending signals. 802.11n/ac has guard interval set to 400 nanoseconds or 4 microseconds
21: WLAN Functional Concepts
  - Channel Bonding and Primary channels
    - When we bond channels, there is a concept of primary and secondary channels.
    - Primary channels roles: mgmt and control traffic is sent on primary channel only to support legacy clients
    - Secondary channel: Extra BW available for clients if they are using primary channel.
    - Offset: There is also a concept of Offset that tells client if the secondary channel is on left (negative offset) of Primary or on the right of primary (positive offset)
    - Channel bonding allows to get more OFDM subcarriers to transfer data hence better data transfer rates
    - In case of 80MHz channel bonds, it is basically 2x 40MHz channels which are further 2x 20MHz primary and secondary channels
  - Non-Overlapping channels
    - There is normally a 5MHz spacing between each channel, by doing a 20MHz spacing we create non-overlapping channels.
    - Center Frequency: Frequency in the middle of the sinusoidal wave. For Ex Channel 36 starts from 5170 and ends at 5190, the center frequency for channel 36 is 5180.
    - Center Frequency for Bonded channels: Ex: Bonded channel for channel 36+40 (sometimes written as channel 38) would fall on 5190 which is the center of the combined waveforms
  - Data Rate, Throughput and Bandwidth
    - Data Rate in Wireless is the amount of bits/sec we are trying to transfer over the microwaves
    - Throughput in wireless is the amount of data that we were successfully able to transfer without errors or retransmits
    - Wireless is a shared medium that is half duplex, we normally see upto 30-40% retransmits in a semi dense client deployment.
    - In networking, bandwidth == data rate but in wireless bandwidth == range of frequency or width of channels or num of available OFDM subcarriers
22:  Wifi Channels and usage
  - 2.4GHz Band
    - 2401 to 2473 (In US) and 2483 (rest of world)
    - US - 11 channels, Rest - 13 channels
    - 22MHz channels, 1, 6 and 11 are non-overlapping
    - Note: Channel 14 exits in Japan with only 802.11b
  - 5 GHz Band
    - 5150 to 5990 MHz with 20MHz per channel
    - 5170 to 5190 is only usable
    - 5GHz is divided in unlicensed national information infrastructure (UNII) bands
    - Available UNII bands for 5GHz are UNII-1, UNII-2A/C and UNII-3. We do not get UNII-2B and UNII-4
    - In total we get 25 non-overlapping channels with further restrictions with EIRP limits or defer to radars on some channels if detected
    - We only get 6x 80MHz channel with the available channels, we only get 2x 160MHz in 5GHz because we cannot create a bond between UNII-2C and UNII-3
    - In EU, there is no UNII-3 and some channels are missing in UNII-2c. In India, UNII-2C and UNII-3 are not available
    - 5GHz has a Dynamic Frequency Selection (DFS) concept to detect and avoid interference if radar systems (weather or airport) are detected by the WAP Radio
    - 5Ghz also have Transmit Power Control, This forces limit on Transmit Power to reduce interference in 5GHz
    - Both DFS and TPX were introduced in 802.11H
    - If DFS detect a signal on the channel, it will force WAP to change channel and drop clients from that WAP.
  - 6Ghz Band
    - In US, you can get upto 59 non-overlapping channels only for WIFI
    - 5945 to 7125MHz thats get us 1180MHz with 59x 20MHz non-overlapping channels
    - UNII-5 to 8, this is not split cleanly but we can bond between UNII bands unlike 5GHz band
    - In EU, you only have UNII-5 available (24x 20MHz)
    - 6GHz has max transmit power limited to 30dBm
23:  General Use cases for WIFI
  - Wireless LAN: Contains Access Points and some solution also include physical wireless LAN Controllers or cloud controllers
  - Wireless Ad-Hoc Networks: Independent Basic Service Set (IBSS) that allows clients to talk to each-other without an Access point. Can be used for filesharing, gaming, isolation etc
  - Wireless Bridging: Wireless WAN that can be used to connect 2 separate LANs usually with a greater geographical distance. AP to AP (bridges) connectivity for a point to point connectivity. Avoid DFS channels in UNII-2A/C.
  - Wireless Mesh: APs act as Mesh AP as well as client AP, it used 5Ghz for Mesh and 2.4 for client connectivity. It provides backhaul, connectivity, no POE. The AP with wired connection is called Root AP (RAPs) and one with backhaul is called Mesh AP (MAP).
    - MAP-RAP connectivity: MAPs uses protocol to decided which RAP it should connect to and avoid loops.
    - MAPs can connect to others MAPs or directly to RAPs.
24: Wireless Service Set Components:
  - Access Points:
    - Radios for RF Bands to support 2.4, 5 and 6 GHz
    - Num of spatial streams, MIMO which can be 4x4, 8x8 etc
    - aesthetic design
    - wired speed 1/2.5/5/10G
    - internal vs external antennas
    - indoor vs outdoor purpose
  - Stations (STAs)
    - Any device with a radio or a radio itself is considered a station in wireless network
    - Support 3 services
      - Station Service: Allows to connect to wifi. Responsible for Authentication, data encryption, DFS, TPS, QoS
      - Distribution System Service: Allows AP to convert wireless to wired.
      - PBSS (Personal Basic Service Set) Control Point Service (PCPS): Allows for 60GHz communication between 2 devices, ex conf room TV and Laptop. This services defines the standard for it.
  - Wireless LAN Controllers (WLCs):
    - Lightweight AP: Requires WLC to get configuration and allow Clients to connect.
    - Uses DHCP/DNS/broadcast/manual config to find the controllers or managers.
    - WLCs can be appliance, cloud application, mini WLC on a WAP, software on VM etc
    - WLC requires licensing in most cases
    - should not be single point of failure
  - Distribution Systems and Media: This is either a wired ethernet network or RAP/MAP in case of Mesh Wireless network.
    - DS Access Function (DSAF): Allows AP to work as a bridge
    - DS Medium (DSM): wired or wireless (mesh)
    - DS Services (DSS): Function that allows AP to associate clients
  - Service Sets and Identifiers (SSID):
    - Service sets are identified by SSID name thats can be discovered
    - Basic Service Set: One AP sharing one SSID to many clients
    - Extended Service Set: When many APs are sharing same SSID to many clients. They share same distribution system (Wired LAN) in the backend.
    - Basic SSID: Unique per AP, this allows Clients to identify which AP the SSID originated from in an ESS
    - Extended SSID: SSID when it shares the Extended Service Set
    - MBSS (mesh basic service set): Used in Mesh wireless network
    - IBSS (Independent basic service set): Used mostly in ad-hoc network with client
    - PBSS (Personal Basic Service Set): Used in 60GHz DMG
25: 802.11 MAC Mechanics
  - 802.11 divides into 2 primary roles, PHY which is L1 (Radio Waves to transfer bits) and MAC which is L2 (Ethernet) of OSI.
  - PHY: Responsible for delivering the bits in ordered way over radio signals
    - Responsible for modulation and encoding of data in RF
  - MAC: Responsible for providing structure and integrity to our wireless ethernet data
    - structure is attained by Frame header and trailer
    - Intergrity by FCS/CRC
  - MAC SubLayers
    - Contain Logical Link Control (LLC) and Media Access Control (MAC)
    - MSDU: MAC service data unit, Packet (payload containing L3 to 7) handed from Layer3 to layer 2 in wireless. MTU is 2305 Bytes in 802.11 by default.
    - MPDU: MAC protocol data unit, MSDU with L2 headers included
  - 802.11 Header and fields: 24B to 56B 802.11 header
    - 4x addresses within 802.11 header, with 3 mandatory and 1 optional. this makes 4 fields
      - We need account for WI-FI as well as End to End Ethernet Src/Dst
      - Address Types: Transmitter (TA), Receiver (RA), Eth Source (SA), Eth Dest (DA) and BSSID (MAC)
      - 4x addresses, the forth optional address is used in Mesh Wireless Network
    - Control Fields:
      - Frame Control: Flags and Type of the frame
      - Duration/ID: Information for other receivers
      - Sequence Control: Required in case if Fragmentation
      - QoS Control  (Optional): Prioritization
      - High Throughput Control (Optional): Used for transfer beam forming TxBF
    - Encryption
    - FCS/CRC
26: 802.11 PHY and MAC Layers
  - 802.11 MPDU and Encapsulation
    - SSID maps to VLAN within 802.11 header
    - QoS in 802.11 is done based on 802.11e enhancement
    - WAP is responsible for converting 802.11 to/from 802.3 during communication
  - MAC MTU
    - Max MTU on 802.11 is 2304Bytes
    - Both IP and 802.11 allows for Fragmentation whereas 802.3 drops the frame if it exceeds MTU
  - PHY Mechanisms -  802.11 Physical Layer is broken into PLCP and PMD
    - Physcial layer convergence procedure (PLCP):
      - Converts PSDU to PPDU which is basically taking a 802.11 frame and adding a preamble to it
      - Clear channel assessment (cca): Listen if anyone is talking on that frequency, otherwise transmit
      - 802.3 wired preamble: Dummy bits to claim the medium and prepares the receiver about incoming data. On wired, its 7 bytes thats 7x 10101010 which sync the receiver. Start Frame delimiter (SFD) which is 1 byte is 10101011 after which the ethernet signal beings.
      - 802.11 Wireless Preamble:
        - OFDM uses 20 microsec for preamble. In 802.11n and onwards, this time increases because of data being sent in preamble.
        - 802.11 wireless preamble contains MCS index required to understand modulation.
        - 24bits if this preamble as BPSK as modulation.
    - Physical Medium Dependant (PMD):It interfaces with RF to provide modulation and demodulation of the frame transmissions.
27: 802.11 Frame Aggregation
  - A-MSDU Aggregation: One of 2 methods in 802.11 that allows a transmitter to aggregate many frame at a time.
    - To improve on efficiency, 802.11n allows for sending multiple MSDU with a single aggregated A-MSDU frame to the receiver.
    - Given the Dest/Src address can be different, Each MSDU have SA,DA and Length in front of individual MSDU followed by a padding which can be 0-3 bytes.
    - Padding is needed to make SA_DA+Len+MSDU to be multiple of 4
    - Multicast and Broadcast cannot be A-MSDU
    - A-MSDU improves performance by sending multiple MSDU with a single 802.11 frame within the RF access window
  - A-MPDU

=====================
Copy from office laptop
=====================
28: 802.11 Channel Access Methods
  - Interframe Spaces (IFS): Minimum Time you have to wait if you detect single in the air. Used to space out and prioritize traffic
    - RIFS: Reduced IFS (802.11n), not used anymore.
    - SIFS: Short IFS, used for ACKS and CTRL frames.
    - PIFS: PRIORITY IFS
    - DIFS: DCF IFS, standard spacing used normal data frames.
    - AIFS: Arbitration (QOS) IFS
    - EIFS: Extended IFS, normally kicks in when you are unable to understand the signal.
  - Pseudo-Random Backoff Timer: It is used to set a Tx order among multiple stations
    - Backoff timer is chosen by number of slots where each slot is 9 microsec in OFDM
    - Timer is only decremented if the medium is not busy and Tx could occur
  - Contention Window Scaling:
    - CWmax is calculated as 2^x - 1 (ex 3,7,15,31 etc )
    - Managed by station dynamically based on channel usage. If station get a retrans then it will increase the value of CWmax otherwise reduce
    - CWmax can be used in QoS as well, where VOICE packets CWmax is much lower than Data packets
  - RTS/CTS:
    - Request to Send / Clear to Send is used to avoid Hidden Node problem.
    - Hidden node happens when AP can see stations but stations are far away from each other to see each others transmissions
    - Optionally Enabled on Access Points, reduces Efficiency when enabled.
- Wi-Fi Quality of Service
  - QoS Mechanisms
    - In WIFI, QoS is applied by winning airspace contention
    - 802.11e introduced QoS features
  - HCF (Hybrid Coordination Function) and EDCA (Enhanced Distributed Channel Access)
    -  Access Policy: Classify and Apply policy
      - Classify into:
        - Voice : User priority of 6/7, CWmin=3 CWmax=7, AIFSN = 2
        - Video: User priority of 4/5, CWmin=7 CWmax=15, AIFSN = 2
        - Best Effort: User priority of 0/3, CWmin=15 CWmax=1023, AIFSN = 3
        - Background: User priority of 1/2, CWmin=15 CWmax=1023, AIFSN = 7
      - Uses "User Priority" field in 802.11 header which is 3 Bit in size (8 values in total)
    - CWmin/CWmax: Upper limit of CWmax different traffic class.
    - AIFS: HCF leverages Arbitration IFS (AIFS), which uses a variable length that is based on frame priority.
      - AIFS = SIFS + AIFSN * slot_time
      - Basically AIFS is SIFS (16 micro sec) + Priority Category times 9 micro sec slot timer
    - TxOP (Transmit opportunity)
      - Allows stations to tx as many frames as possible in a time frame during channel access.
      - Voice : 2080 micro sec
      - video : 4096 micro sec
      - Best Effort/Background: 2528 micro sec
    - TSpec (Transmit Specification)
      - Reserving throughput with the Access Point
      - Not used in modern equipment
- 802.11 MAC Operations
  - Roaming: When station moves from one AP to another AP.
    - Use ESS that allows for Reassociation
    - Overlap between AP signals
    - Auth, use 802.11r to quickly reauth using Fast Transition (FT)
  - Fast Secure Roaming
    - Goal of Fast Secure roaming is to extend auth from one AP to another
    - Uses 802.11r spec to share keys
    - During initial 802.1x Auth, a key is generated for auth and encryption plus another AP/STATION specific key is generated,
      during roaming this key shared to nearby APs or WLC then reauth only requires creation of AP/STATION specific key.
  - Airtime Fairness
    - It is about same time to air regardless of what 802.11 spec your station uses.
    - Not in any 802.11 Spec
    - It is used for how 802.11g station get access to airtime compared to newer devices (802.11ax/ac etc)
    - Mostly see newer station get more throughput or improved latency compared to 802.11b/g/n devices.
  - Protected Mode
    - NAV : Network allocation vector, timer that tells station airspace is used
    - 802.11b doesn't under OFDM modulation, in this case, BSS (AP) is enabled to send Beacons that tells presence of 802.11b station,
      which then enables RTS/CTS in HR-DSSS mode that 802.11b station can understand.
    - Downside: reduces overall throughput and shouldn't be enabled unless required.
- 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
     
